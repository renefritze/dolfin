
# Based on original implementation by Martin Alnes and Anders Logg

__all__ = ["include_code", "table"]

comment = "// DOLFIN wrappers"

stl_includes = """\
// Standard library includes
#include <string>
"""

dolfin_includes = """\
// DOLFIN includes
#include <dolfin/common/NoDeleter.h>
#include <dolfin/fem/FiniteElement.h>
#include <dolfin/fem/DofMap.h>
#include <dolfin/fem/Form.h>
#include <dolfin/function/FunctionSpace.h>
#include <dolfin/function/GenericFunction.h>
#include <dolfin/function/CoefficientAssigner.h>
#include <dolfin/adaptivity/ErrorControl.h>
#include <dolfin/adaptivity/GoalFunctional.h>
"""
#-------------------------------------------------------------------------------
include_code = "\n".join([comment, stl_includes, dolfin_includes])
#-------------------------------------------------------------------------------
table = {"shared_function_space":
             {True: ("boost::shared_ptr<const dolfin::FunctionSpace> %s",
                     "_function_spaces[%d] = %s;"),
              False: ("const dolfin::FunctionSpace& %s",
                      "_function_spaces[%d] = reference_to_no_delete_pointer(%s);")
              },
         "shared_coefficients":
             {True: ("boost::shared_ptr<const dolfin::GenericFunction> %s",
                     "    this->%s = *%s;"),
              False: ("const dolfin::GenericFunction& %s",
                      "    this->%s = %s;")
              },
         "functionspace": ["TestSpace", "TrialSpace"]
         }
#-------------------------------------------------------------------------------

