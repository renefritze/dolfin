"""The importhandler module of dolfin"""

# NOTE: The automatic documentation system in DOLFIN requires to _not_ define
# NOTE: classes or functions within this file. Use separate modules for that
# NOTE: purpose.

try:
    import dolfin.importhandler.dynamicloadmpi
except OSError:
    pass

# Check for runtime dependencies
runtime_dependencies = ["ufl", "ffc", "ufc", "ply.lex"]

for dep in runtime_dependencies:
    try:
        __import__(dep)
    except ImportError, e:
        import sys
        message = ["DOLFIN runtime dependency is not met.",
                   "Install the following python module: '%s' "  % dep,
                   "and make sure its location is listed in PYTHONPATH."]
        wrap = "-"*len(max(message, key=len))
        print
        print wrap
        for s in message:
            print s
        print wrap
        print
        sys.exit(1)
