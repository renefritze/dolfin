__author__ = "Anders Logg (logg@simula.no)"
__date__ = "2008-12-02 -- 2008-12-03"
__copyright__ = "Copyright (C) 2008 Anders Logg"
__license__  = "GNU LGPL Version 2.1"

# Modified by Johan Hake, 2008.

__all__ = ["Constant"]

# Importing ffc and the swig generated extension module of dolfin, cpp.
import ffc
import cpp

class Constant(ffc.Function, cpp.Constant):

    def __init__(self, domain, value):

        # Only scalars handled currently
        if not (isinstance(value, float) or isinstance(value, int)):
            dolfin.error("Unable to create constant, only scalar constants supported.")

        # Initialize ffc.Function
        element = ffc.FiniteElement("Discontinuous Lagrange", domain, 0)
        ffc.Function.__init__(self, element)

        # Initialize dolfin::Constant
        cpp.Constant.__init__(self, value)
