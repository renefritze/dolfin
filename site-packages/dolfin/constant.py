__author__ = "Anders Logg (logg@simula.no)"
__date__ = "2008-12-02 -- 2008-12-02"
__copyright__ = "Copyright (C) 2008 Anders Logg"
__license__  = "GNU LGPL Version 2.1"

__all__ = ["Constant"]

import ffc
import dolfin

class Constant(ffc.Function, dolfin.cpp_Constant):

    def __init__(self, domain, value):

        # Only scalars handled currently
        if not (isinstance(value, float) or isinstance(value, int)):
            dolfin.error("Unable to create constant, only scalar constants supported.")

        # Initialize ffc.Function
        element = ffc.FiniteElement("Discontinuous Lagrange", domain, 0)
        ffc.Function.__init__(self, element)

        # Initialize dolfin::Constant
        dolfin.cpp_Constant.__init__(self, value)
