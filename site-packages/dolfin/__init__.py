# Import DOLFIN wrapper module as well as additional utility entities

# For some reason PyTrilinos needs to be loaded before the assemble module or
# else strange things happen.
try:
    from PyTrilinos import Epetra, AztecOO, TriUtils, ML
except:    
    #print "Warning: PyTrilinos not available, Saddle solver will not work"
    pass

# External imports
from ffc import *

# Imports from Python code
from constants import *
from assemble import *
from constant import *
from specialfunctions import *
from function import *
from jit      import jit
from functionspace import *
from pde import *
#from bc import *
#from norm import *
from project import *
from interpolate import *
#from errornorm import *
from dolfin_time import *
from plot   import *
from compile_functions  import compile_functions
from compile_subdomains import compile_subdomains

#--- Imports from SWIG-generated Python code (C++ interface) ---
import cpp

# Classes
#from cpp import GenericTensor, GenericMatrix, GenericVector
from cpp import Matrix, Vector, Scalar
from cpp import LinearSolver, KrylovSolver, LUSolver, SingularSolver
from cpp import BlockMatrix, BlockVector
#from cpp import Graph, GraphEditor, GraphPartition
#from cpp import UndirectedClique, DirectedClique
from cpp import File
#from cpp import Lagrange, Legendre
#from cpp import Quadrature, Variable
#from cpp import GaussQuadrature
from cpp import GaussQuadrature, RadauQuadrature, LobattoQuadrature
from cpp import Mesh, MeshEditor, MeshFunction, BoundaryMesh
#from cpp import MeshEntity, MeshTopology, MeshGeometry
#from cpp import MeshConnectivity, MPIMeshCommunicator, BoundaryMesh
from cpp import Vertex, Edge, Face, Facet, Cell, Point
from cpp import vertices, edges, faces, facets, cells
from cpp import SubDomain, DomainBoundary
from cpp import UnitInterval, Interval, UnitSquare, Rectangle, UnitCircle, UnitCube, Box, UnitSphere
#from cpp import DofMap, DofMapSet
from cpp import IntersectionDetector
#from cpp import BoundaryCondition
from cpp import DirichletBC, PeriodicBC
#from cpp import Form, Assembler
from cpp import Assembler
from cpp import SubSpace
#from cpp import MatrixFactory
from cpp import NewtonSolver, NonlinearProblem
from cpp import TimeDependent, ODE, ComplexODE
from cpp import Progress, Timer, Table, Event
from cpp import MPI

# TODO: Don't need these if the typemaps are sorted out. Used for defining constant vector/tensor functions.
from cpp import ArrayUInt, ArrayDouble

# Needed to compile Function subclasses with Instant and use them with PyCPP!
#from cpp import cpp_Function

# Free functions
from cpp import dolfin_get, dolfin_add, dolfin_set, tic, toc, summary
from cpp import solve, residual, normalize
from cpp import down_cast

# Enums
from cpp import l1, l2, linf, frobenius
from cpp import symmetric, nonsymmetric
from cpp import normalize_l2norm, normalize_average
from cpp import lu, cg, gmres, bicgstab, default_solver
from cpp import jacobi, sor, ilu, icc, amg_hypre, amg_ml, default_pc
from cpp import lagrange, hermite, harmonic
from cpp import topological, geometric, pointwise

# Optional package uBLAS
try: 
    from cpp import uBLASSparseMatrix, uBLASDenseMatrix, uBLASVector, uBLASFactory
except:
    pass

# Optional package petsc
try: 
    from cpp import PETScMatrix, PETScVector, PETScFactory
except:
    pass

# Optional package Epetra 
try: 
    from cpp import EpetraMatrix, EpetraVector, EpetraFactory
except:
    pass

# Optional package MTL4
try: 
    from cpp import MTL4Matrix, MTL4Vector, MTL4Factory
except:
    pass

# Optional package slepc
try: 
    from cpp import SLEPcEigenSolver
except:
    pass

from numpy import sin, cos, exp

import logger
