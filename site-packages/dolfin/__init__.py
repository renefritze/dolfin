# Import DOLFIN wrapper module as well as additional utility entities

# For some reason PyTrilinos needs to be loaded before the assemble module or
# else strange things happen.
try:
    from PyTrilinos import Epetra, AztecOO, TriUtils, ML
except:    
    #print "Warning: PyTrilinos not available, Saddle solver will not work"
    pass

from ffc import *
from constants import *
from assemble import *
from norm import *
from plot import *

import dolfin

# Classes
#from dolfin import GenericTensor, GenericMatrix, GenericVector
from dolfin import Matrix, Vector, Scalar
from dolfin import LinearSolver, KrylovSolver, LUSolver, SingularSolver
#from dolfin import ElementLibrary, InvMeshSize
#from dolfin import Graph, GraphEditor, GraphPartition
#from dolfin import UndirectedClique, DirectedClique
from dolfin import File
#from dolfin import Lagrange, Legendre
#from dolfin import Quadrature, Variable
#from dolfin import GaussQuadrature
from dolfin import GaussQuadrature, RadauQuadrature, LobattoQuadrature
from dolfin import Mesh, MeshEditor, MeshFunction, BoundaryMesh
#from dolfin import MeshEntity, MeshTopology, MeshGeometry
#from dolfin import MeshConnectivity, MPIMeshCommunicator, BoundaryMesh
from dolfin import Vertex, Edge, Face, Facet, Cell, Point
from dolfin import vertices, edges, faces, facets, cells
from dolfin import SubDomain, DomainBoundary
from dolfin import UnitInterval, UnitSquare, UnitCircle, Box, UnitCube, Rectangle
#from dolfin import IntersectionDetector, DofMap, DofMapSet
from dolfin import SubSystem
from dolfin import BoundaryCondition
#from dolfin import Form, Assembler
from dolfin import Assembler
#from dolfin import MatrixFactory
from dolfin import NewtonSolver, NonlinearProblem
from dolfin import TimeDependent, ODE, ComplexODE, Homotopy
from dolfin import Progress, Timer

# Free functions
from dolfin import dolfin_get, dolfin_add, dolfin_set, tic, toc, summary
from dolfin import solve, residual, normalize
from dolfin import down_cast

# Enums
from dolfin import l1, l2, linf
from dolfin import l2norm, average
from dolfin import lu, cg, gmres, bicgstab, default_solver
from dolfin import jacobi, sor, ilu, icc, amg, default_pc
from dolfin import lagrange, hermite, harmonic, elastic

# Needed to compile Function subclasses with instant and use them with PyDOLFIN!
from dolfin import cpp_Function

# Optional package uBlas 
try: 
    from dolfin import uBlasSparseMatrix, uBlasDenseMatrix, uBlasVector, uBlasFactory
except:
    pass

# Optional package petsc
try: 
    from dolfin import PETScMatrix, PETScVector, PETScFactory
except:
    pass

# Optional package Epetra 
try: 
    from dolfin import EpetraMatrix, EpetraVector, EpetraFactory
except:
    pass

# Optional package slepc
try: 
    from dolfin import SLEPcEigenvalueSolver
except:
    pass

from numpy import sin, cos, exp

import logger
